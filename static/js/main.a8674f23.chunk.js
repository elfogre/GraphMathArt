(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23),_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24),_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),ctx,lastTime=0,RenderBox=function(_Component){function RenderBox(e){return Object(_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,RenderBox),Object(_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(RenderBox).call(this,e))}return Object(_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(RenderBox,_Component),Object(_home_elfogre_repoGit_GraphMathArt_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(RenderBox,[{key:"componentDidMount",value:function(){ctx=this.refs.canvas.getContext("2d"),this.updateCanvas(),this.startrun(this.updateCanvas)}},{key:"componentDidUpdate",value:function(){}},{key:"drawPixel",value:function(e,t,a,n,r,c,s){var o=4*(e+t*this.props.scene.scene.xsize);s.data[o+0]=a,s.data[o+1]=n,s.data[o+2]=r,s.data[o+3]=c}},{key:"updateCanvas",value:function updateCanvas(){try{var t=this.props.time.time,canvasData=eval("var canvasData = ctx.getImageData(0, 0, ".concat(this.props.scene.scene.xsize,", ").concat(this.props.scene.scene.ysize,"); for (var x = 0; x < ").concat(this.props.scene.scene.xsize,"; x++) { for (var y = 0; y < ").concat(this.props.scene.scene.ysize,"; y++) { this.drawPixel (x,y, ").concat(this.props.scene.scene.backgroundredcolour,"%256, ").concat(this.props.scene.scene.backgroundgreencolour,"%256, ").concat(this.props.scene.scene.backgroundbluecolour,"%256, 255, canvasData);}}; canvasData;"));this.props.time.timepaused||this.props.actions.setTime(eval(this.props.scene.scene.timeIncrement)),ctx.putImageData(canvasData,0,0)}catch(e){}}},{key:"startrun",value:function(e){if(console.log("startrun:",this.lastTime),this.gameTick=e,0===lastTime){var t=this;requestAnimationFrame(function(){t.tick()}),this.lastTime=0}}},{key:"stoprun",value:function(){this.startrun(null)}},{key:"tick",value:function(){if(null!==this.gameTick){var e=this;requestAnimationFrame(function(){e.tick()});var t=Date.now(),a=t-this.lastTime;if(a>0){if(0!==this.lastTime){a>1e3&&(a=1e3);var n=(a+this.prevElapsed+this.prevElapsed2)/3;this.gameTick(.001*n),this.prevElapsed2=this.prevElapsed,this.prevElapsed=a}this.lastTime=t}}else this.lastTime=0}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("canvas",{ref:"canvas",width:this.props.scene.scene.xsize,height:this.props.scene.scene.ysize})}}]),RenderBox}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.a=RenderBox},113:function(e,t,a){e.exports=a(205)},205:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"handlePauseTime",function(){return I}),a.d(n,"handleStartTime",function(){return G}),a.d(n,"handleRestartTime",function(){return U}),a.d(n,"setTime",function(){return z});var r=a(0),c=a.n(r),s=a(56),o=a(19),_=a(22),l=a(23),i=a(25),u=a(24),m=a(26),p=a(14),h=a(212),d=a(16),E=a(215),b=a(207),v=a(214),O=a(208),f=a(209),g=a(217),k=a(210),x=a(211),M=function(e){return c.a.createElement(E.a,Object.assign({type:"text"},e))},C=c.a.createElement("h3",null,"Background color"),T=c.a.createElement("h3",null,"Frame size"),y=c.a.createElement("h3",null,"Time control"),P=function(e){function t(){return Object(_.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){console.log(JSON.stringify(e,null,2))}},{key:"render",value:function(){return c.a.createElement(d.Form,{model:"scene"},c.a.createElement(b.a,null,c.a.createElement(v.a,{header:C},c.a.createElement(O.a,{className:"show-grid"},c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,c.a.createElement(k.a,null,"Red value"),c.a.createElement(d.Control.text,{model:"scene.backgroundredcolour",component:M,value:this.props.scene.scene.backgroundredcolour}))),c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,c.a.createElement(k.a,null,"Green value"),c.a.createElement(d.Control.text,{model:"scene.backgroundgreencolour",component:M,value:this.props.scene.scene.backgroundgreencolour}))),c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,c.a.createElement(k.a,null,"Blue value"),c.a.createElement(d.Control.text,{model:"scene.backgroundbluecolour",component:M,value:this.props.scene.scene.backgroundbluecolour}))))),c.a.createElement(v.a,{header:T},c.a.createElement(O.a,{className:"show-grid"},c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,c.a.createElement(k.a,null,"x size"),c.a.createElement(d.Control.text,{model:"scene.xsize",component:M,value:this.props.scene.scene.xsize}))),c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,c.a.createElement(k.a,null,"y size"),c.a.createElement(d.Control.text,{model:"scene.ysize",component:M,value:this.props.scene.scene.ysize}))))),c.a.createElement(v.a,{header:y},c.a.createElement(O.a,{className:"show-grid"},c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,c.a.createElement(k.a,null,"Time function"),c.a.createElement(d.Control.text,{model:"scene.timeIncrement",component:M,value:this.props.scene.scene.timeIncrement}))),c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,c.a.createElement(k.a,null,"Actual time: ")," ",this.props.time.time)),c.a.createElement(f.a,{xs:4},c.a.createElement(g.a,null,this.props.time.timepaused?c.a.createElement(x.a,{onClick:this.props.actions.handleStartTime},"Play"):c.a.createElement(x.a,{onClick:this.props.actions.handlePauseTime},"Pause"),c.a.createElement(x.a,{onClick:this.props.actions.handleRestartTime},"Restart")))))))}}]),t}(r.Component),D=a(110),A=function(e){function t(){return Object(_.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleExportGraph",value:function(){window.open().document.write("<!DOCTYPE html><html><head><script><\/script></head><body><h1>My Web Page</h1></body></html>")}},{key:"render",value:function(){return c.a.createElement(x.a,{onClick:this.handleExportGraph},"Export graph")}}]),t}(r.Component),R="PAUSE_TIME",j="START_TIME",w="RESTART_TIME",B="SET_TIME";function I(){return{type:R}}function G(){return{type:j}}function U(){return{type:w}}function z(e){return{type:B,time:e}}var W=function(e){function t(){return Object(_.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.time,a=e.scene,n=e.timeActions;return c.a.createElement("div",{className:"row"},c.a.createElement(h.a,null,"GraphMathArt ",c.a.createElement("small",null,"converting functions in actual art")),c.a.createElement(P,{scene:a,time:t,actions:n}),c.a.createElement("div",null,c.a.createElement(D.a,{scene:a,time:t,actions:n})),c.a.createElement(A,{scene:a}))}}]),t}(r.Component);var K=Object(o.connect)(function(e){return{time:e.time,scene:e.scene}},function(e){return{timeActions:Object(p.bindActionCreators)(n,e)}})(W),L=Object(d.combineForms)({scene:{xsize:300,ysize:300,backgroundredcolour:"0",backgroundgreencolour:"0",backgroundbluecolour:"0",timeIncrement:"t+1"}}),q=a(43),S={time:0,timepaused:!1};var F=Object(p.combineReducers)({time:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(q.a)({},e,{timepaused:!0});case j:return Object(q.a)({},e,{timepaused:!1});case w:return Object(q.a)({},e,{time:0});case B:return Object(q.a)({},e,{time:t.time});default:return e}},scene:L});var N,J=a(213),Y=a(216),H=Object(p.createStore)(F,N);Object(s.render)(c.a.createElement(o.Provider,{store:H},c.a.createElement(J.a,null,c.a.createElement(Y.a,{path:"/",component:K}))),document.getElementById("root"))}},[[113,2,1]]]);
//# sourceMappingURL=main.a8674f23.chunk.js.map